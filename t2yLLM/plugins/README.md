# activate / deactivate plugins
  - from server_config.yaml in the config directory

# yeelight plugin (medium)
  - First run the configuration wizard :
    - check your firewall setup as it might block discovery as shown in `yeelight_ufw.md`
    - `python yeelight_manager.py setup`
    - follow the instructions, it will create a .yaml config file with your rooms and lights
    - Now you should be able to send simple commands via voice to the LLM like "turn on the bedroom lights"
   
# Spotify plugin (hard)
  - Prerequisites:
    - you need to have a **premium account** on spotify
    - create your app on Spotify for developers :
      ![spotify_dev](https://github.com/user-attachments/assets/199cba5d-43c5-435d-bddf-9bdb039d0ab0)
      - give it the name of your choice
      - choose http://127.0.0.1:8888/callback as a callback address
        ![redirect](https://github.com/user-attachments/assets/2de1497b-d5f2-4ee9-a9c1-d3aea05fd005)
      - save your CLIENT_ID and CLIENT_SECRET and add them to your environment in your ~/.bashrc :
        - `export SPOTIPY_CLIENT_ID='my_spotify_client_id'`
        - `export SPOTIPY_CLIENT_SECRET='my_spotify_client_secret'`
    - install librespot from **https://github.com/librespot-org/librespot**. You might need to install cargo :
      - Install cargo and get the latest stable version : `sudo apt install rustup` and `rustup update`
      - Clone the cargo repo `git clone https://github.com/librespot-org/librespot.git && cd librespot`
      - install dependencies `sudo apt-get install build-essential libasound2-dev`
      - `cargo build --release --features "alsa-backend"`
      - `cargo install librespot --features "alsa-backend"`
    - install **Spotify app** from the .deb as told on their page https://www.spotify.com/ch-fr/download/linux/ in order for your device to be detected. Don't use the snpa version or it will ask for password everytime you use the plugin.
      - `curl -sS https://download.spotify.com/debian/pubkey_C85668DF69375001.gpg | sudo gpg --dearmor --yes -o /etc/apt/trusted.gpg.d/spotify.gpg`
      - `echo "deb https://repository.spotify.com stable non-free" | sudo tee /etc/apt/sources.list.d/spotify.list`
      - `sudo apt install spotify-client`
    - scan the **QRCode** generated by the app the first time you launch it in order to link it to your account
    - Chose the right device from  the Devices list the first time you use the app
      ![select_device](https://github.com/user-attachments/assets/cbe9d018-e1a6-4c00-8573-bf6d36d127f2)

